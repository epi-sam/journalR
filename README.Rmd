---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# journalR

<!-- badges: start -->
<!-- badges: end -->

The goal of journalR is to ease real-world scientific publication writing. 

## Installation

You can install the development version of journalR from [GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pak("epi-sam/journalR")
```

## Basics

In the Platonic ideal world, a journal is written in pure LaTeX, Rmarkdown, or
the like.

In the real world, journals are written collaboratively in Word, with messy 
versioning, multiple copies of the same file, broken citations, and enjoy 
constant updates and handoffs between team members.

Sometimes, you just need to copy and paste some numbers.

Enter journalR.

```{r example}
library(journalR)

# data.table is not required, but the author finds it helpful.
library(data.table)
```

Let's say you have done some statistical analysis.

```{r mtcars}
DT <- as.data.table(mtcars)

# calculate mean/lower/upper 95% UI for mpg by cyl
DT_mpg <- DT[
   , .(
      mean  = mean(mpg),
      lower = quantile(mpg, 0.025),
      upper = quantile(mpg, 0.975)
   )
   , by = cyl]

print(DT_mpg)
```

If you want to continue your analysis, best to leave numbers in their raw form.

However, if they're ready for presenation, you'll want to format them.

- The `format_journal_df()` function formats numbers in a data.table or data.frame for easy copy/paste into Word or similar.
- The user must provide a data type (`d_type`), which tells the function how to format the numbers.
- Checks are performed to ensure mean/lower/upper relationships are sound (lower < mean < upper) before formatting.

```{r format}
DT_mpg |>
   journalR::format_journal_df(
      d_type = "count"
   )
```


