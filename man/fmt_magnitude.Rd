% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/format_vectors.R
\name{fmt_magnitude}
\alias{fmt_magnitude}
\title{Format magnitude}
\usage{
fmt_magnitude(
  x,
  d_type,
  digits = 1,
  nsmall = 1,
  decimal.mark = ".",
  mag = NULL,
  count_label_thousands = FALSE,
  rate_unit = NULL
)
}
\arguments{
\item{x}{[num] numeric vector}

\item{d_type}{[chr] data type: "prop", "pp", "count", "rate" (required)}

\item{digits}{[int: default 1L] passed to `round()`}

\item{nsmall}{[int: default 1L] passed to `format()`}

\item{decimal.mark}{[chr: default "."] decimal mark passed to `format()`}

\item{mag}{[chr: default NULL] magnitude override
- For counts: "t" (thousand), "m" (million), "b" (billion)
- For rates: "per10", "per100", "per1k", ..., "per10b"
- For props/pp: "as-is" (no scaling, use values as provided)}

\item{count_label_thousands}{[lgl: default FALSE] allow thousands magnitude?  Not
Lancet-valid. Passed to `set_magnitude()`}

\item{rate_unit}{[chr: default NULL] unit label for rates (e.g., "deaths", "cases").
Required when d_type = "rate", ignored otherwise.}
}
\value{
[chr] formatted string
}
\description{
Format a numeric vector into a string with specified magnitude (billion,
million, thousand).
}
\details{
Unaware of schema, just a hard-coded git-er-done function.

Caution - thousands magnitude is not Lancet compliant.
}
\examples{
fmt_magnitude(123456789, d_type = "count")
fmt_magnitude(0.0000123, d_type = "rate", rate_unit = "deaths")
}
\seealso{
Other vector_formats: 
\code{\link{add_epsilon}()},
\code{\link{format_oxford_comma}()},
\code{\link{fround}()},
\code{\link{fround_count_rate}()},
\code{\link{fround_dtype}()},
\code{\link{fround_dtype_lancet}()},
\code{\link{fround_props}()}

Other magnitudes: 
\code{\link{set_magnitude}()},
\code{\link{set_magnitude_count}()},
\code{\link{set_magnitude_prop}()},
\code{\link{set_magnitude_rate}()}
}
\concept{magnitudes}
\concept{vector_formats}
